
<head>
    <title>Registrazione</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<h1>Registrati</h1>

<% if (error && error.length > 0) { %>
    <ul style="color: red;">
        <% error.forEach(error => { %>
            <li><%= error %></li>
        <% }) %>
    </ul>
<% } %>

<form action="/signup" method="POST">
    <input type="text" name="firstname" placeholder="Nome" value="<%= formData.firstname || '' %>" required><br>
    <input type="text" name="lastname" placeholder="Cognome" value="<%= formData.lastname || '' %>" required><br>
    <label for="birthdate">Birthday:</label>
    <input type="date" id="birthdate" name="birthdate" value="<%= formData.birthdate || '' %>" required><br>
    <input type="text" name="username" placeholder="Username" value="<%= formData.username || '' %>" required><br>
    <input type="email" name="email" placeholder="Email" value="<%= formData.email || '' %>" required><br>
    <input type="password" name="password" placeholder="Password" required><br>
    <input type="password" name="confirmPassword" placeholder="Conferma password" required><br>
    <button type="submit">Registrati</button>
</form>

<a href="/auth/google">
    <button>Accedi con Google</button>
</a>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('error')) {
        alert('Email o password errati. Riprova.');
        window.history.replaceState({}, document.title, window.location.pathname);
    }
</script>

